import requests

# https://places.googleapis.com/v1/places/GyuEmsRBfy61i59si0?fields=addressComponents&key=YOUR_API_KEY
API_KEY = 'YOUR_GOOGLE_API_KEY'

def get_nearby_services(location, service_type, radius=5000):
    """
    Fetches nearby government services using the Google Places API.
    
    :param location: The user's location in the format 'latitude,longitude'
    :param service_type: Type of service (e.g., 'library', 'police', 'hospital')
    :param radius: Search radius in meters
    :return: A list of nearby services
    """
    url = "https://maps.googleapis.com/maps/api/place/nearbysearch/json"
    
    # Define the parameters for the API request
    params = {
        'location': location,
        'radius': radius,
        'type': service_type,
        'key': API_KEY
    }
    
    # Make the API request
    response = requests.get(url, params=params)
    
    # Check if the response was successful
    if response.status_code == 200:
        data = response.json()
        results = data.get('results', [])
        return results
    else:
        print("Error fetching data from the API")
        return []

def display_services(services):
    """
    Displays the list of services in a readable format.
    
    :param services: List of services returned by the API
    """
    if not services:
        print("No services found.")
        return
    
    print(f"Found {len(services)} services:\n")
    for idx, service in enumerate(services, 1):
        name = service.get('name', 'N/A')
        address = service.get('vicinity', 'N/A')
        print(f"{idx}. {name} - {address}")

def main():
    # Example usage
    latitude = input("Enter latitude: ")
    longitude = input("Enter longitude: ")
    location = f"{latitude},{longitude}"
    
    # Get the service type from the user
    service_type = input("library): ").lower()
    
    # Fetch nearby services
    services = get_nearby_services(location, service_type)
    
    # Display the results
    display_services(services)

if __name__ == "__main__":
    main()
